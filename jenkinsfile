#!/usr/bin/env groovy
properties(
[
[
$class: 'GithubProjectProperty',
displayName: '',
projectUrlStr: 'https://github.com/Demo-project-saikadiyala1994/Practice_Repo_1.git/'],
pipelineTriggers([githubPush()])
    triggers { upstream(upstreamProjects: 'TestProject_2', threshold: hudson.model.Result.SUCCESS) }
]
)
pipeline {
    agent any 

    stages {
        stage('Build') { 
            steps { 
                echo 'make' 
            }
        }
        stage('Test'){
            steps {
                echo 'make check'
                
            }
        }
        stage('Deploy') {
            steps {
                echo 'make publish'
                build 'TestProject_1'
            }
        }
    }
}
